<!-- HOME PAGE -->
<!DOCTYPE html>
<html>

<head>
    <title>Online Shop</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div class="header">
        <h1 class="title">Online Shop</h1>

        <!-- View Cart -->
        <div class="cart-button">
            <a class="view-cart-text" href="/cart">View Cart</a>
        </div>

        <!-- Search Form -->
        <form class="search-form" action="/search" method="GET">
            <input class="search-input" type="text" name="query" placeholder="  Search products...">
            <button class="search-btn" type="submit">Search</button>
        </form>
    </div>


    <!-- Show Categories -->
    <div class="categories">
        <h2 class="category-title">Categories:</h2>
        <ul>
            <% categories.forEach(category=> { %>
                <li class="category-item"><a class="category-text" href="/categories/<%= category.name %>">
                        <%= category.name %>
                    </a></li>
                <% }); %>
        </ul>
    </div>

    <!-- Trending Items Section -->
    <div class="trending-section">
        <h2 class="trending-title">Trending Items</h2>
        <div class="trending-grid">
            <% trendingItems.forEach(item => { %>
                <div class="product-card">
                    <div class="product-image">
                        <img src="/images/<%= item.name.toLowerCase().replace(/ /g, '_') %>.jpg" alt="<%= item.name %>">
                    </div>
                    <h3 class="product-name"><%= item.name %></h3>
                    <p class="product-price">$<%= item.price %></p>
                    <p class="product-rating">
                        Rating: <%= (item.rating_sum / item.rating_count).toFixed(1) %>/5
                        (<%= item.rating_count %> reviews)
                    </p>
                    <a href="/categories/product/<%= item.id %>" class="view-product">View Details</a>
                </div>
            <% }); %>
        </div>
    </div>

</body>

</html>